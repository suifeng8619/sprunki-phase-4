!function(){function e(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream)return void console.log("iOS device detected, skipping native fullscreen initialization");const e=document.querySelector(".game-container");if(!e)return void console.error("Native Fullscreen: Game container not found.");const n=document.createElement("button");n.id="native-fullscreen-btn",n.type="button",n.title="Native Fullscreen",n.className="native-fullscreen-button",n.innerHTML='\n            <svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n                <g fill="none" stroke="#fff" stroke-width="12" stroke-linecap="square">\n                    <path d="M20 35 L20 20 L35 20"/>\n                    <path d="M80 35 L80 20 L65 20"/>\n                    <path d="M20 65 L20 80 L35 80"/>\n                    <path d="M80 65 L80 80 L65 80"/>\n                </g>\n            </svg>\n        ';const t=document.createElement("button");t.id="native-exit-fullscreen-btn",t.type="button",t.title="Exit Native Fullscreen",t.className="native-exit-fullscreen-button",t.innerHTML='\n            <svg width="24" height="24" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n              <g fill="none" stroke="#fff" stroke-width="12" stroke-linecap="square">\n                <path d="M35 20 L35 35 L20 35"/>\n                <path d="M65 20 L65 35 L80 35"/>\n                <path d="M35 80 L35 65 L20 65"/> \n                <path d="M65 80 L65 65 L80 65"/>\n              </g>\n            </svg>\n        ',e.appendChild(n),e.appendChild(t);const l={wrapper:document.getElementById("game_section"),container:e,iframe:document.getElementById("game_iframe"),nativeFullscreenBtn:n,nativeExitFullscreenBtn:t,gameIntro:document.getElementById("game_intro")};for(const e in l)if(!l[e])return void console.error(`Native Fullscreen: Element '${e}' not found.`);let s=!1;function i(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}function r(){if(!i())return console.warn("Native fullscreen API is not available in this browser."),!1;l.gameIntro.classList.add("hidden"),l.iframe.classList.remove("hidden");const e=l.wrapper;if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return l.wrapper.classList.add("fullscreen"),!0}function o(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),l.wrapper.classList.remove("fullscreen")}function c(){s=!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement),s?l.wrapper.classList.add("fullscreen"):(l.wrapper.classList.remove("fullscreen"),window.gameStarted||(l.gameIntro.classList.remove("hidden"),l.iframe.classList.add("hidden")))}l.nativeFullscreenBtn.addEventListener("click",function(e){e&&(e.preventDefault(),e.stopPropagation()),r()}),l.nativeFullscreenBtn.addEventListener("touchend",function(e){e&&(e.preventDefault(),e.stopPropagation()),r()},{passive:!1}),l.nativeExitFullscreenBtn.addEventListener("click",function(e){e&&(e.preventDefault(),e.stopPropagation()),o()}),l.nativeExitFullscreenBtn.addEventListener("touchend",function(e){e&&(e.preventDefault(),e.stopPropagation()),o()},{passive:!1}),document.addEventListener("fullscreenchange",c),document.addEventListener("webkitfullscreenchange",c),document.addEventListener("mozfullscreenchange",c),document.addEventListener("MSFullscreenChange",c),n.style.display="none",t.style.display="none",window.addEventListener("gameStarted",function(){n.style.display="flex",t.style.display="none"}),i()||(n.style.display="none",t.style.display="none")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}();